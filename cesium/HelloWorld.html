<!DOCTYPE html>
<html lang="en">
<head>
  <title>Hello World!</title>
  <style>
	@import url(http://cesiumjs.org/Cesium/Apps/Sandcastle/templates/bucket.css);
  </style>
  <div id="cesiumContainer" class="fullSize"></div>
  <div id="loadingOverlay"><h1>Loading...</h1></div>
  <div id="toolbar"></div>
  <script src="Cesium/Cesium.js"></script>
</head>
<body>
  <script>
	"use strict";
    
    var viewer = new Cesium.Viewer('cesiumContainer');
    var primitives = viewer.scene.getPrimitives();
    var ellipsoid = viewer.centralBody.getEllipsoid();

    // Create box and position with a model matrix
    var dimensions = new Cesium.Cartesian3(400000.0, 300000.0, 500000.0);
    var positionOnEllipsoid = ellipsoid.cartographicToCartesian(Cesium.Cartographic.fromDegrees(-105.0, 45.0));
    var boxModelMatrix = Cesium.Matrix4.multiplyByTranslation(
        Cesium.Transforms.eastNorthUpToFixedFrame(positionOnEllipsoid),
        new Cesium.Cartesian3(0.0, 0.0, dimensions.z * 0.5));
    
    var boxGeometry = Cesium.BoxGeometry.fromDimensions({
        vertexFormat : Cesium.PerInstanceColorAppearance.VERTEX_FORMAT,
        dimensions : dimensions
    });

    var boxGeometryInstance = new Cesium.GeometryInstance({
        geometry : boxGeometry,
        modelMatrix : boxModelMatrix,
        attributes : {
            color : Cesium.ColorGeometryInstanceAttribute.fromColor(new Cesium.Color(1.0, 0.0, 0.0, 0.5))
        }
    });

    primitives.add(new Cesium.Primitive({
        geometryInstances : boxGeometryInstance,
        appearance : new Cesium.PerInstanceColorAppearance({
            closed: true
        })
    }));

    Sandcastle.finishedLoading();
	</script>
</body>
</html>